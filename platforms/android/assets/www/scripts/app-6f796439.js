"use strict";angular.module("viralDi",["ionic","ngCordova","ngResource","ngSanitize","restangular","LocalStorageModule","ionic-datepicker","ionic.rating"]).run(["$ionicPlatform","Notification","User",function(e,n,t){document.addEventListener("deviceready",function(){console.log("--------------- CORDOVA READY -----------------"),n.setAppState(!0),n.registerDevice(function(){t.addDeviceToken(function(e,n){e?console.log("err",e):console.log("user",n)})}),n.changeState()}),document.addEventListener("resume",function(){n.changeState()},!1),document.addEventListener("pause",function(){n.setAppState(!1)},!1),e.ready(function(){})}]).config(["$httpProvider","$stateProvider","$urlRouterProvider","RestangularProvider","api","localStorageServiceProvider","StorageProvider",function(e,n,t,o,i,a,l){o.setBaseUrl(i);var r=l.$get().getUser();a.setPrefix("viralDi").setStorageType("localStorage"),n.state("app",{url:"/app","abstract":!0,templateUrl:"templates/main.html",controller:"MainController",controllerAs:"main"}).state("app.home",{url:"/home",cache:!1,views:{viewContent:{templateUrl:"templates/views/home.html",controller:"HomeController",controllerAs:"home"}}}).state("app.dashboard",{url:"/dashboard",cache:!1,views:{viewContent:{templateUrl:"templates/views/dashboard.html",controller:"DashboardController",controllerAs:"userDash"}}}).state("app.invoice",{url:"/invoice",cache:!1,views:{viewContent:{templateUrl:"templates/views/invoice.html",controller:"InvoiceController",controllerAs:"invoice"}}}).state("app.cleared",{url:"/clearedPayments",cache:!1,views:{viewContent:{templateUrl:"templates/views/cleared.html",controller:"ClearedPaymentController",controllerAs:"cleared"}}}).state("app.settings",{url:"/settings",cache:!0,views:{viewContent:{templateUrl:"templates/views/settings.html"}}}).state("app.register",{url:"/register",cache:!1,views:{viewContent:{templateUrl:"templates/views/register.html",controller:"RegisterController",controllerAs:"register"}}}),r?t.otherwise("/app/dashboard"):t.otherwise("/app/home")}]).constant("api","http://localhost:3000/api").constant("GCM",{senderId:""}),angular.module("viralDi").constant("API_ENDPOINT",{host:"http://localhost",port:3e3,path:"",needsAuth:!1}),angular.module("viralDi").controller("ClearedPaymentController",["$scope","$ionicPopup","$ionicModal","User","Storage","$state","$ionicLoading","$ionicHistory","$ionicSideMenuDelegate","ionicDatePicker",function(e,n,t,o,i,a,l,r,s,c){e.user=i.getUser(),function(){var t={id:e.user.id,authToken:e.user.authToken};l.show({template:"Loading..."}),o.defaultCleared(t,function(t,o){l.hide(),t?console.log("err",t):(console.log("success",o),e.clearedData=o.object,e.totalAmount(),o&&o.displayMsg&&n.alert({title:"Message!",template:o.displayMsg}))}),setTimeout(function(){console.log("Howdy",window.innerHeight),document.getElementById("content").style.height=(window.innerHeight-155).toString()+"px"},2e3)}();var d={callback:function(n){console.log("Return value from the datepicker popup is : "+n,new Date(n)),e.fromDate=new Date(n),e.toDate=void 0},disabledDates:[],from:new Date(2012,1,1),to:new Date(2018,10,30),inputDate:new Date,mondayFirst:!0,closeOnSelect:!0,templateType:"popup"},u={callback:function(t){console.log("Return value from the datepicker popup is : "+t,new Date(t)),console.log(e.fromDate.getFullYear(),e.fromDate.getMonth(),e.fromDate.getDate()),new Date(t)<e.fromDate?n.alert({title:"Message!",template:"Please Select Date Greater than "+moment(e.fromDate).format("DD-MMMM-YYYY")}):(e.toDate=new Date(t),e.getClearedData())},disabledDates:[],from:e.fromDate,to:new Date(2018,10,30),mondayFirst:!0,closeOnSelect:!0,templateType:"popup"};e.openFromDatePicker=function(){c.openDatePicker(d)},e.openToDatePicker=function(){c.openDatePicker(u)},e.getDayDate=function(e){return moment(e).format("dddd")+","+moment(e).format("MMMM DD")},e.getClearedData=function(){var t={id:e.user.id,authToken:e.user.authToken,fromDate:moment(e.fromDate).format("YYYY/MM/DD"),toDate:moment(e.toDate).format("YYYY/MM/DD")};l.show({template:"Loading..."}),o.getClearedData(t,function(t,o){l.hide(),t?console.log("err",t):(console.log("success",o),e.clearedData=o.object,e.totalAmount(),o&&o.displayMsg&&n.alert({title:"Message!",template:o.displayMsg}))})},e.totalAmount=function(){e.totalPaid=0,e.clearedData&&e.clearedData.forEach(function(n){e.totalPaid+=n.totalAmount})}}]),angular.module("viralDi").controller("DashboardController",["$scope","$rootScope","$ionicLoading","$ionicModal","$state","Storage","User","$ionicPopup","$ionicSideMenuDelegate","$stateParams","$window","$interval",function(e,n,t,o,i,a,l,r,s,c,d,u){s.canDragContent(!0),e.user=a.getUser()}]),Date.prototype.yyyymmdd=function(){var e=this.getFullYear().toString(),n=(this.getMonth()+1).toString(),t=this.getDate().toString();return e+"/"+(n[1]?n:"0"+n[0])+"/"+(t[1]?t:"0"+t[0])},angular.module("viralDi").controller("HomeController",["$scope","$ionicPopup","$ionicModal","User","$state","$ionicLoading","$ionicHistory","$ionicSideMenuDelegate",function(e,n,t,o,i,a,l,r){r.canDragContent(!1),e.login=function(n,t){if(console.log("login",n,t),e.invalidUserPass=!1,n&&t){a.show({template:"Loading..."});var r={email:n,password:t};o.login(r,function(n,t){a.hide(),n?(console.log("err",n),e.invalidUserPass=!0):(console.log("login",t),e.invalidUserPass=!1,l.nextViewOptions({disableBack:!0}),i.go("app.dashboard"))})}}}]),angular.module("viralDi").controller("InvoiceController",["$scope","$ionicPopup","$ionicModal","User","Storage","$state","$ionicLoading","$ionicHistory","$ionicSideMenuDelegate","ionicDatePicker",function(e,n,t,o,i,a,l,r,s,c){e.user=i.getUser(),function(){var t={id:e.user.id,authToken:e.user.authToken};l.show({template:"Loading..."}),o.defaultInvoices(t,function(t,o){l.hide(),t?console.log("err",t):(console.log("success",o),e.invoiceData=o.object,e.totalAmount(),o&&o.displayMsg&&n.alert({title:"Message!",template:o.displayMsg}))}),setTimeout(function(){console.log("Howdy",window.innerHeight),document.getElementById("content").style.height=(window.innerHeight-155).toString()+"px"},2e3)}();var d={callback:function(n){console.log("Return value from the datepicker popup is : "+n,new Date(n)),e.fromDate=new Date(n),e.toDate=void 0},disabledDates:[],from:new Date(2012,1,1),to:new Date(2018,10,30),inputDate:new Date,mondayFirst:!0,closeOnSelect:!0,templateType:"popup"},u={callback:function(t){console.log("Return value from the datepicker popup is : "+t,new Date(t)),console.log(e.fromDate.getFullYear(),e.fromDate.getMonth(),e.fromDate.getDate()),new Date(t)<e.fromDate?n.alert({title:"Message!",template:"Please Select Date Greater than "+moment(e.fromDate).format("DD-MMMM-YYYY")}):(e.toDate=new Date(t),e.getInvoiceData())},disabledDates:[],from:e.fromDate,to:new Date(2018,10,30),mondayFirst:!0,closeOnSelect:!0,templateType:"popup"};e.openFromDatePicker=function(){c.openDatePicker(d)},e.openToDatePicker=function(){c.openDatePicker(u)},e.getDayDate=function(e){return moment(e).format("dddd")+","+moment(e).format("MMMM DD")},e.getInvoiceData=function(){var t={id:e.user.id,authToken:e.user.authToken,fromDate:moment(e.fromDate).format("YYYY/MM/DD"),toDate:moment(e.toDate).format("YYYY/MM/DD")};l.show({template:"Loading..."}),o.getInvoiceData(t,function(t,o){l.hide(),t?console.log("err",t):(console.log("success",o),e.invoiceData=o.object,e.totalAmount(),o&&o.displayMsg&&n.alert({title:"Message!",template:o.displayMsg}))})},e.totalAmount=function(){e.totalPaid=0,e.invoiceData&&e.invoiceData.forEach(function(n){e.totalPaid+=n.totalAmount})},e.raiseQuery=function(t){console.log("invoiceId",t);var i=n.confirm({title:"Confirm",template:"<center><b>Are you sure you want to raise a query for this invoice?</b></center>",buttons:[{text:"<b>No</b>"},{text:"<b>Yes</b>",onTap:function(i){var a={id:e.user.id,invoiceId:t,authToken:e.user.authToken};l.show({template:"Loading..."}),o.raiseQuery(a,function(e,t){l.hide(),e?console.log("err",e):(console.log("success",t),t&&t.displayMsg&&n.alert({title:"Message!",template:"<center>"+t.displayMsg+"</center>"}))})}}]});i.then(function(e){})}}]),angular.module("viralDi").controller("MainController",["$scope","$rootScope","Storage","$state","$ionicSideMenuDelegate","User","$ionicLoading",function(e,n,t,o,i,a,l){e.user=t.getUser(),n.$on("$stateChangeStart",function(n,o,i,a,l){console.log("Changing state to :"),console.log(o),e.user=t.getUser()}),e.logout=function(){l.show({template:"Loading..."});({id:e.user.id,apn:!1,authToken:e.user.authToken});l.hide(),t.removeUser(),t.clearAll(),e.user=void 0,o.go("app.home"),i.toggleLeft(!1)}}]),angular.module("viralDi").controller("RegisterController",["$scope","$ionicPopup","$ionicModal","User","$state","$ionicLoading","$ionicHistory","$ionicSideMenuDelegate",function(e,n,t,o,i,a,l,r){e.userContacts=[],e.detailsView=!0,e.managerView=!1,e.ownerView=!1,e.managerDetails=[];var s="",c="",d="";e.addContact=function(t){if(console.log("addContact",t),e.isDuplicate=!1,t){if(t<999999999)return void n.alert({title:"Alert!",template:"Invalid Phone number."});0==e.userContacts.length?e.userContacts.push(t):e.userContacts.forEach(function(o,i){o==t&&(n.alert({title:"Alert!",template:"Please add unique contact."}),e.isDuplicate=!0),i!=e.userContacts.length-1||e.isDuplicate||e.userContacts.push(t)})}},e.removeContact=function(n){e.userContacts.splice(n,1)},e.getDetails=function(t,o,i){s="",console.log("getDetails",t,o,i),0!=e.userContacts.length||i?0==e.userContacts.length&&i<999999999?n.alert({title:"Alert!",template:"Invalid phone number."}):0==e.userContacts.length&&i>999999999?(s="bName="+t,s+="&bEmail="+o,s+="&bPhNumber="+i,e.detailsView=!1,e.managerView=!0,e.ownerView=!1):(s="bName="+t,s+="&bEmail="+o,e.userContacts.forEach(function(e,n){s+="&bPhNumber="+e}),e.detailsView=!1,e.managerView=!0,e.ownerView=!1):n.alert({title:"Alert!",template:"Please add atleast 1 Phone number."})},e.getManager=function(n,t,o,i){c="&mName="+n,c+="&mEmail="+i,c+="&mTitle="+t,c+="&mPhNumber"+o,e.detailsView=!1,e.managerView=!1,e.ownerView=!0},e.backDetails=function(){e.detailsView=!0,e.managerView=!1,e.ownerView=!1},e.backManager=function(){e.detailsView=!1,e.managerView=!0,e.ownerView=!1},e.getOwner=function(e,t,r){console.log("getOwner",e,t,r),d="&oName="+e,d+="&oEmail="+t,d+="&oPhNumber="+r;var u=s+c+d;console.log("data",u),a.show({template:"Loading..."}),o.registerUser(u,function(e,t){a.hide(),e?(console.log("err",e),n.alert({title:"Sorry!",template:e.displayMsg})):(console.log("data",t),t&&t.displayMsg&&(n.alert({title:"Congratulations!",template:t.displayMsg}),l.nextViewOptions({disableBack:!0}),i.go("app.dashboard")))})},e.getTerms=function(){a.show({template:"Loading..."}),startApp.set({action:"ACTION_VIEW",uri:"http://viralDiapp.in/VendorTerms&Conditions.html"}).start(function(){a.hide()},function(e){a.hide()})}}]),angular.module("viralDi").controller("SettingsController",["$scope",function(e){}]),function(){function e(e,n,t,o,i,a){this.registerDevice=function(a){var l=e.getPlatform();console.log("devicePlatform",l);var r={};"Android"===l?(r={senderID:n.senderId,icon:"icon"},t.register(r).then(function(e){console.log("result: ",e)},function(e){console.log("Registration Error #registerDevice @Notification.js: "+JSON.stringify(e))}),o.$on("$cordovaPush:notificationReceived",function(e,n){switch(n.event){case"registered":n.regid.length>0&&(console.log("registered",n),i.setDevice(l,n.regid),a());break;case"message":console.log("new notification",JSON.stringify(n)),!n.foreground&&n.coldstart&&o.$broadcast("notification",n);break;case"error":alert("GCM error = "+n.msg);break;default:alert("An unknown GCM event has occurred")}})):"iOS"===l&&(r={badge:!0,sound:!0,alert:!0},t.register(r).then(function(e){console.log("deviceToken",e),i.setDevice(l,e),a()},function(e){alert("Registration Error: "+JSON.stringify(e)),console.log("Registration Error: "+JSON.stringify(e))}),o.$on("$cordovaPush:notificationReceived",function(e,n){if(n.alert&&!n.foreground&&n.coldstart&&o.$broadcast("notification",n),n.sound){var i=new Media(e.sound);i.play()}n.badge&&t.setBadgeNumber(n.badge).then(function(e){},function(e){})}))},this.changeState=function(){console.log("in change state");var e=i.getNotification();return console.log("notification",e),i.clearNotification()},this.setAppState=function(e){return i.setAppState(e)},this.getAppState=function(){return i.getAppState()}}angular.module("viralDi").service("Notification",e),e.$inject=["$cordovaDevice","GCM","$cordovaPush","$rootScope","Storage","$state"]}(),function(){function e(e){this.setUser=function(n){return e.set("user",n)},this.getUser=function(){return e.get("user")},this.removeUser=function(){e.remove("user")},this.setDevice=function(n,t){return e.set("device",{platform:n,token:t})},this.getDevice=function(){return e.get("device")},this.removeDevice=function(){return e.remove("device")},this.clearAll=function(){return e.clearAll()},this.setNotification=function(n){return e.set("notification",n)},this.getNotification=function(){return e.get("notification")},this.clearNotification=function(){return e.remove("notification")},this.setAppState=function(n){return e.set("appState",n)},this.getAppState=function(){return e.get("appState")}}angular.module("viralDi").service("Storage",e),e.$inject=["localStorageService"]}(),function(){function e(e,n,t){var o=this;this.login=function(t,o){e.one("members").all("login").post(t).then(function(e){return n.setUser(e.plain()),o(null,e.plain())},function(e){return o(e,null)})},this.bookings=function(n,t){e.one("venue").one("bookings").get(n).then(function(e){return t(null,e)},function(e){return t(e,null)})},this.confirmBooking=function(n,t){e.one("venue").one("confirm").get(n).then(function(e){return t(null,e)},function(e){return t(e,null)})},this.declineBooking=function(n,t){e.one("venue").one("decline").get(n).then(function(e){return t(null,e)},function(e){return t(e,null)})},this.closeBooking=function(n,t){e.one("venue").one("close").get(n).then(function(e){return t(null,e)},function(e){return t(e,null)})},this.openBooking=function(n,t){e.one("venue").one("open").get(n).then(function(e){return t(null,e)},function(e){return t(e,null)})},this.clearToken=function(n,t){e.one("venue").one("cleargcm").get(n).then(function(e){return t(null,e)},function(e){return t(e,null)})},this.pendingRatings=function(n,t){e.one("venue").one("pendingRatings").get(n).then(function(e){return t(null,e)},function(e){return t(e,null)})},this.rateCustomer=function(n,t){var o="id="+n.id+"&ticketId="+n.ticketId+"&userId="+n.userId+"&ratings="+n.overAllRating+"&ratings="+n.tippingBehave+"&ratings="+n.genralBehave+"&authToken="+n.authToken;console.log("params",n,o),e.one("venue").one("rateCustomer?"+o).get().then(function(e){return t(null,e)},function(e){return t(e,null)})},this.defaultInvoices=function(n,t){e.one("billing").one("defaultInvoices").get(n).then(function(e){return t(null,e)},function(e){return t(e,null)})},this.getInvoiceData=function(n,t){e.one("billing").one("invoices").get(n).then(function(e){return t(null,e)},function(e){return t(e,null)})},this.defaultCleared=function(n,t){e.one("billing").one("defaultCleared").get(n).then(function(e){return t(null,e)},function(e){return t(e,null)})},this.getClearedData=function(n,t){e.one("billing").one("cleared").get(n).then(function(e){return t(null,e)},function(e){return t(e,null)})},this.raiseQuery=function(n,t){e.one("billing").one("raiseQuery").get(n).then(function(e){return t(null,e)},function(e){return t(e,null)})},this.discount=function(n,t){e.one("venue").one("discount").get(n).then(function(e){return t(null,e)},function(e){return t(e,null)})},this.registerUser=function(i,a){e.one("newuser").one("register?"+i).get().then(function(e){return e.success?(n.setUser(e.object),t.registerDevice(function(){o.addDeviceToken(function(e,n){e&&console.log("err #getUser @User.Service.js: ",e)})}),a(null,e)):a(e,null)},function(e){return a(e,null)})},this.addDeviceToken=function(t){var o=n.getUser();console.log("user",o);var i=n.getDevice();if(console.log("device",i),!o)return t(null,null);if(!i||!i.token)return t(null,o);if(o.deviceToken&&o.deviceToken==i.token)return t(null,o);var a={id:o.id,apn:!1,authToken:o.authToken,regId:i.token};e.one("venue").one("gcmreg").get(a).then(function(e){return console.log("gcmreg",e),o.deviceToken=i.token,n.setUser(o),t(null,o)},function(e){return t(e,null)})}}angular.module("viralDi").service("User",e),e.$inject=["Restangular","Storage","Notification"]}(),function(){angular.module("ionic.rating",[]).constant("ratingConfig",{max:5}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,n,t){var o;return o={$setViewValue:angular.noop},this.init=function(i){var a;return o=i,o.$render=this.render,a=angular.isDefined(n.max)?e.$parent.$eval(n.max):t.max,e.range=this.buildTemplateObjects(o.$modelValue,a)},this.buildTemplateObjects=function(e,n){var t,o=[];for(t=0;t<n;t++)e>t&&e<t+1?o[t]=2:e>t?o[t]=1:o[t]=0;return o},e.rate=function(n){if(!e.readonly&&n>=0&&n<=e.range.length)return o.$setViewValue(n),o.$render()},e.onKeydown=function(n){if(/(37|38|39|40)/.test(n.which))return n.preventDefault(),n.stopPropagation(),e.rate(e.value+(38===n.which||39===n.which?{1:-1}:void 0))},this.render=function(){return e.value=o.$viewValue},this}]).directive("rating",["$timeout",function(e){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?"},controller:"RatingController",template:'<ul class="rating" ng-keydown="onKeydown($event)">'+"<li ng-repeat=\"r in range track by $index\" ng-click=\"rate($index + 1)\"><i class=\"icon\" ng-class=\"value === undefined ? (r === 1 ? 'ion-ios-star' : (r === 2 ? 'ion-ios-star-half' : 'ion-ios-star-outline')) : (value > $index ? (value < $index+1 ? 'ion-ios-star-half' : 'ion-ios-star') : 'ion-ios-star-outline')\"></i></li></ul>",replace:!0,link:function(n,t,o,i){var a,l;l=i[0],a=i[1],a&&e(function(){return l.init(a)})}}}])}.call(this),angular.module("viralDi").factory("_",["$window",function(e){return e._}]),angular.module("viralDi").run(["$templateCache",function(e){e.put("templates/main.html",'<ion-side-menus>\n    <!-- Center content -->\n    <ion-side-menu-content>\n        <ion-nav-view name="viewContent">\n        </ion-nav-view>\n    </ion-side-menu-content>\n    <!-- Left menu -->\n    <ion-side-menu side="left" class="side-menu">\n        <ion-header-bar align-title="center" class="bar-positive">\n            <h1 class="title">Viral DI</h1>\n        </ion-header-bar>\n        <ion-content class="has-header">\n            <div class="list">\n                <a menu-close class="item item-icon-left" ui-sref-active="active" ng-if="user" ng-click="logout()">\n                    <i class="icon ion-power"></i> Logout\n                </a>\n            </div>\n        </ion-content>\n    </ion-side-menu>\n</ion-side-menus>\n'),e.put("templates/views/cleared.html",'<style>\n.bottomContent {\n    text-align: center;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 17px;\n    font-weight: 500;\n    line-height: 44px;\n}\n.noPadding{\n    padding:0px;\n}\n.noBackground{\n    background: transparent;\n}\n</style>\n<ion-view id="body" style="background-image:url(images/new_background.jpg) !important; filter: alpha(opacity=10); background-repeat: no-repeat; background-size: cover;">\n    <ion-header-bar id="head" align-title="center">\n        <button class="button button-icon icon ion-navicon" style="display: block;color:#fff;" menu-toggle="left"></button>\n        <h1 class="title" style="color:#fff;">Cleared Payments</h1>\n    </ion-header-bar>\n    <div id="subHead" class="row noPadding" style="position: absolute;top:45px;z-index: 10;">\n        <div class="col" style="padding: 0 5px;"> \n            <ionic-datepicker idate="fromDate" disablepreviousdates="true">\n                <button ng-click="openFromDatePicker()" class="button button-block icon-right ion-ios-arrow-down noBackground" style="color:#fff;"> {{fromDate | date:\'dd-MMMM-yyyy\' }}{{!fromDate?\'From\':\'\'}} </button>\n            </ionic-datepicker>\n        </div>\n        <div class="col" style="padding: 0 5px;">\n            <ionic-datepicker idate="toDate" disablepreviousdates="true">\n                <button ng-click="openToDatePicker()" class="button button-block icon-right ion-ios-arrow-down noBackground" style="color:#fff;"> {{ toDate | date:\'dd-MMMM-yyyy\' }}{{!toDate?\'To\':\'\'}} </button>\n            </ionic-datepicker>\n        </div>\n    </div>\n    <ion-content id="content" style="position: fixed;top:110px;display: block;">\n        <div class="row" ng-if="clearedData.length==0">\n            <h4 style="text-align: center;color: #fff;width: 100%;">Sorry No Cleared Payment Available !</h4>\n        </div>\n        <div class="list">\n            <div class="card noBackground row" ng-repeat="clear in clearedData" style="margin-left: 5px;">\n                <div class="row">\n                    <div style="width:20%;">\n                        <img ng-src="{{clear.imgUrl}}" onerror="this.src=\'images/user.ico\'" style="width:15vw;height:15vw;max-height:65px;max-width:65px; border-radius:50%;display: block;margin: auto auto;">\n                    </div>\n                    <div style="width:60%;">\n                        <div class="item noBackground" style="padding: 5px;">\n                            <h3 style="color: #fff;">{{clear.customerName ? clear.customerName : \'N/A\'}} {{clear.attendees}} Attendee(s)</h3>\n                            <h3 style="color: #fff;">TicketId : {{clear.ticketId}}</h3>\n                            <h3 style="color: #fff;">{{getDayDate(clear.bookingDate)}}, {{clear.arrivalTime}}</h3>\n                        </div>\n                    </div>\n                    <div style="width:20%;padding: 5px;">\n                        <h4 style="color: #fff;text-align: center;">Rs {{clear.totalAmount}}</h4>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </ion-content>\n    <div id="footer" class="bar bar-footer row" style="background: transparent;border-top: 1px solid #fff;padding-top: 0px;">\n        <h2 class="col bottomContent" style="color: #fff;padding: 0px;">Total</h2>\n        <h2 class="col bottomContent" style="color: #fff;padding:0px; margin-top: 0px;">Rs {{totalPaid}}</h2>\n    </div>\n</ion-view>\n<script>\n        console.log(\'How are you?\');\n</script>\n'),e.put("templates/views/dashboard.html",'<ion-view>\n    <ion-header-bar align-title="center">\n        <button class="button button-icon icon ion-navicon" style="display: block;color:#000;" menu-toggle="left"></button>\n        <h1 class="title">Dashboard</h1>\n\n          <div class="bar bar-subheader bar-light custom_header">\n            <div class="row">\n                <div class="col">\n                    <div class="plus">\n                        <img src="images/ic_newcampaign@2x.png">\n                        <h2>NEW</br>CAMPAIGN</h2>\n                    </div>\n                </div>\n                <div class="col">\n                    <div class="plus">\n                        <img src="images/ic_sendcoupon@2x.png">\n                        <h2>SEND</br>COUPON</h2>\n                    </div>\n                </div>\n                <div class="col">\n                    <div class="plus">\n                        <img src="images/ic_validatecoupon@2x.png">\n                        <h2>VALIDATE</br>COUPON</h2>\n                    </div>\n                </div>\n                <div class="col">\n                    <div class="plus">\n                        <img src="images/ic_managecustomer@2x.png">\n                        <h2>MANAGE</br>CUSTOMER</h2>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </ion-header-bar>\n\n    <ion-content>\n            <div class="redapp_bg">\n\n            <div class="row">\n                <div class="col text-center blank_body">\n                    <h6>You don\'t have any active campaign</h6>\n                    <h6>Create a new campaign to get started</h6>\n                </div>\n            </div>\n            <!--  <div class="bar bar-footer nav_background" ui-sref="app.screen28">\n                <div class="row">\n                    <div class="col">\n                        <div class="foter_menu">\n                            <img src="images/ic_help@x.png">\n                        </div>\n                    </div>\n                    <div class="col">\n                        <div class="foter_menu">\n                            <img src="images/ic_profile@x.png">\n                        </div>\n                    </div>\n                    <div class="col">\n                        <div class="foter_main">\n                            <img src="images/ic_dashboard@x.png">\n                        </div>\n                    </div>\n                    <div class="col">\n                        <div class="foter_menu">\n                            <img src="images/ic_notification@x.png">\n                        </div>\n                    </div>\n                    <div class="col">\n                        <div class="foter_menu">\n                            <img src="images/ic_settings@x.png">\n                        </div>\n                    </div>\n                </div>\n            </div> --> \n        </div>\n    </ion-content>\n</ion-view>\n'),e.put("templates/views/home.html",'<ion-content class="redapp_bg">\n    <div class="row">\n        <div class="logo_account">\n            <a ui-sref="#"><img src="images/redlogo@x.png"></a>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col text-center login">\n            <form name="loginForm">\n                <div class="list">\n                    <label class="item item-input user_name">\n                        <input type="email" name="userEmail" placeholder="Email" ng-model="userEmail" required>\n                    </label>\n                    <label class="item item-input user_pass">\n                        <input type="password" name="password" placeholder="Password" ng-model="password" required>\n                    </label>\n                </div>\n            </form>\n        </div>\n    </div>\n    <div class="row">\n        <div class=" col forgot text-center" ui-sref="app.screen25">\n            <p>Forgot Password?</p>\n        </div>\n    </div>\n    <div class="padding">\n        <p ng-show="loginForm.userEmail.$error.required">* Email is required</p>\n        <p ng-show="loginForm.userEmail.$invalid && !loginForm.userEmail.$pristine">* Invalid email address</p>\n        <p ng-show="loginForm.password.$error.required">* Password is required</p>\n        <p ng-show="invalidUserPass">* Invalid email or password</p>\n    </div>\n    <div class="row ">\n        <div class=" col Sign_in text-center padding_remove">\n            <button class="button" ng-click="loginForm.$valid && login(userEmail,password)"> SIGN IN </button>\n        </div>\n    </div>\n    <div class="row">\n        <div class=" col or_option text-center">\n            <p><span></span>or<span></span></p>\n        </div>\n    </div>\n    <div class="row">\n        <div class=" col Facebook text-center padding_remove">\n            <button class="button" ui-sref="app.screen25"><span><img src="images/ic_facebooKk@x.png"></span>Sign In with <span>Facebook </span></button>\n        </div>\n    </div>\n    <div class="row">\n        <div class=" col text-center dont_have">\n            <h2>Don\'t have an account? <span>SIGN UP</span></h2>\n        </div>\n    </div>\n</ion-content>\n'),e.put("templates/views/invoice.html",'<style>\n.bottomContent {\n    text-align: center;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 17px;\n    font-weight: 500;\n    line-height: 44px;\n}\n\n.noPadding {\n    padding: 0px;\n}\n\n.noBackground {\n    background: transparent;\n}\n</style>\n<ion-view id="body" style="background-image:url(images/new_background.jpg) !important; filter: alpha(opacity=10); background-repeat: no-repeat; background-size: cover;">\n    <ion-header-bar id="head" align-title="center">\n        <button class="button button-icon icon ion-navicon" style="display: block;color:#fff;" menu-toggle="left"></button>\n        <h1 class="title" style="color:#fff;">Pending Payments</h1>\n    </ion-header-bar>\n    <div id="subHead" class="row noPadding" style="position: absolute;top:45px;z-index: 10;">\n        <div class="col" style="padding: 0 5px;">\n            <ionic-datepicker idate="fromDate" disablepreviousdates="true">\n                <button ng-click="openFromDatePicker()" class="button button-block icon-right ion-ios-arrow-down noBackground" style="color:#fff;"> {{fromDate | date:\'dd-MMMM-yyyy\' }}{{!fromDate?\'From\':\'\'}} </button>\n            </ionic-datepicker>\n        </div>\n        <div class="col" style="padding: 0 5px;">\n            <ionic-datepicker idate="toDate" disablepreviousdates="true">\n                <button ng-click="openToDatePicker()" class="button button-block icon-right ion-ios-arrow-down noBackground" style="color:#fff;"> {{ toDate | date:\'dd-MMMM-yyyy\' }}{{!toDate?\'To\':\'\'}} </button>\n            </ionic-datepicker>\n        </div>\n    </div>\n    <ion-content id="content" style="position: fixed;top:110px;display: block;">\n        <div class="row" ng-if="invoiceData.length==0">\n            <h4 style="text-align: center;color: #fff;width: 100%;">Sorry No Pending Payment Available !</h4>\n        </div>\n        <div class="list">\n            <div class="card noBackground row" ng-repeat="invoice in invoiceData" style="margin-left: 5px;">\n                <div class="row">\n                    <div style="width:20%;">\n                        <img ng-src="{{invoice.imgUrl}}" onerror="this.src=\'images/user.ico\'" style="width:15vw;height:15vw;max-height:65px;max-width:65px; border-radius:50%;display: block;margin: auto auto;">\n                    </div>\n                    <div style="width:60%;">\n                        <div class="item noBackground" style="padding: 5px;">\n                            <h3 style="color: #fff;">{{invoice.customerName ? invoice.customerName : \'N/A\'}} {{invoice.attendees}} Attendee(s)</h3>\n                            <h3 style="color: #fff;">TicketId : {{invoice.ticketId}}</h3>\n                            <h3 style="color: #fff;">{{getDayDate(invoice.bookingDate)}}, {{invoice.arrivalTime}}</h3>\n                        </div>\n                    </div>\n                    <div style="width:20%;padding: 5px;">\n                        <a href ng-click="raiseQuery(invoice.id)" style="margin-left: 19px;">\n                            <i class="ion-help-circled" style="text-align:center;font-size:1.7em;margin-top: 0px;color: #fff;width:28px;height: 28px;"></i>\n                        </a>\n                        <h4 style="color: #fff;text-align: center;">Rs {{invoice.totalAmount}}</h4>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </ion-content>\n    <div id="footer" class="bar bar-footer row" style="background: transparent;border-top: 1px solid #fff;padding-top: 0px;">\n        <h2 class="col bottomContent" style="color: #fff;padding: 0px;">Total</h2>\n        <h2 class="col bottomContent" style="color: #fff;padding:0px; margin-top: 0px;">Rs {{totalPaid}}</h2>\n    </div>\n</ion-view>\n<script>\nconsole.log(\'How are you?\');\n</script>\n'),e.put("templates/views/ratingsPopUp.html",'<style>\n.popup-head {\n    display: none;\n}\n\n.popup-body {\n    padding: 0px;\n}\n\n.popupBody {\n    min-height: 200px;\n    background: #E5E5E5;\n    padding: 5px;\n    max-height: 80%;\n    overflow-y: scroll;\n}\n\n.bar-header {\n    display: block !important;\n    margin-bottom: 40px;\n}\n\n.popDef {\n    margin-top: 30px;\n}\n\n.popDef img {\n    border-radius: 50%;\n    height: 20vw;\n    width: 20vw;\n}\n\n.center {\n    display: block;\n    margin: 0 auto;\n}\n\n.star {\n    font-size: 30px;\n}\n\n.star2 {\n    font-size: 23px;\n}\n\n.topClass h1 {\n    text-align: center;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 17px;\n    font-weight: 500;\n    line-height: 44px;\n    border-bottom: 1px solid rgb(0, 0, 0);\n}\n\n.rating li {\n    display: inline;\n}\n\n.ovarAll .rating li i {\n    font-size: 30px !important;\n}\n\n.overAll2 .rating li i {\n    font-size: 22px !important;\n}\n</style>\n<main class="popupBody">\n    <div ng-show="!isDiscount">\n        <div class="topClass">\n            <h1 class="title">Customer Ratings</h1>\n        </div>\n        <div class="popDef ">\n            <img class="center" ng-src="{{ratingData[pos].imgurl}}" onerror="this.src=\'images/user.ico\'" />\n            <div class="padding">\n                <div style="text-align: center;font-size: 1.0em;">{{ratingData[pos].customerName}}</div>\n                <div style="text-align: center;font-size: 1.0em;">Came On:<span style="border-bottom: 1px solid rgb(0,0,0)">{{getDayDate(ratingData[pos].bookingDate)}},{{ratingData[pos].arrivalTime}}</span></div>\n            </div>\n            <div class="padding" style="margin-bottom: 40px;">\n                <div style="text-align: center;font-size: 1.1em;">Share Your Overall experiance with customers</div>\n                <div class="center ovarAll" id="star" style="width: 135px !important;">\n                    <rating ng-model="overAllRating" max="5"></rating>\n                </div>\n                <!--  <div class="center" style="width: 135px !important;">\n                \n            </div> -->\n            </div>\n            <div style="margin-bottom: 20px;">\n                <div class="row" style="padding: 10px 0px;">\n                    <div class="col" style="padding: 0px;text-align: center">Tipping Behaviour</div>\n                    <div class="col" style="padding: 0px;">\n                        <div class="center overAll2" style="width: 108px;">\n                            <rating ng-model="tippingBehave" max="5"></rating>\n                        </div>\n                    </div>\n                </div>\n                <div class="row" style="padding: 10px 0px;">\n                    <div class="col" style="padding: 0px;text-align: center">General Behaviour</div>\n                    <div class="col" style="padding: 0px;">\n                        <div class="center overAll2" style="width: 108px;">\n                            <rating ng-model="genralBehave" max="5"></rating>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="row">\n                <button ng-click="ratingsSubmit(overAllRating,tippingBehave,genralBehave);overAllRating=0;tippingBehave=0;genralBehave=0;" class="button center" style="color: #fff;background-color: #19A5A3;">\n                    Submit\n                </button>\n            </div>\n        </div>\n    </div>\n    <div ng-if="isDiscount">\n        <div style="position: relative;">\n            <div class="topClass">\n                <h1 class="title">Discount</h1>\n            </div>\n        </div>\n        <div style="min-height: 100px;">\n            <div class="row" style="padding:0px 30px;margin-top: 60px;">\n                <div style="width:20%;">\n                    <button class="button button-icon ion-ios-minus-outline center" style="color: rgb(0,0,0); font-size: 30px;" ng-click="removeDiscount()" on-hold="holdRemoveDiscount()" on-release="releaseRemoveDiscount()"></button>\n                </div>\n                <div style="width:60%;">\n                    <ion-item style="padding: 10px;">\n                        <ion-label>\n                            <center>{{discount}} %</center>\n                        </ion-label>\n                        <ion-input></ion-input>\n                    </ion-item>\n                </div>\n                <div style="width:20%;">\n                    <button class="button button-icon ion-ios-plus-outline center" style="color: rgb(0,0,0); font-size: 30px;" ng-click="addDiscount()"  on-hold="holdAddDiscount()" on-release="releaseAddDiscount()"></button>\n                </div>\n            </div>\n        </div>\n        <div class="row">\n            <button class="button center" style="color: #fff;background-color: #19A5A3; " ng-click="setDiscount()">\n                Submit\n            </button>\n        </div>\n    </div>\n</main>\n'),
e.put("templates/views/register.html",'<style>\n.bottomContent {\n    text-align: center;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 17px;\n    font-weight: 500;\n    line-height: 44px;\n}\n\n.noPadding {\n    padding: 0px;\n}\n\n.noBackground {\n    background: transparent;\n}\n\n.center {\n    margin: 0 auto;\n    display: block;\n}\n</style>\n<ion-view id="body" style="background-image:url(images/new_background.jpg) !important; filter: alpha(opacity=10); background-repeat: no-repeat; background-size: cover;">\n    <ion-header-bar id="head" align-title="center">\n        <button class="button button-icon icon ion-navicon" style="display: block;color:#fff;" menu-toggle="left"></button>\n        <h1 class="title" style="color:#fff;">Registration</h1>\n    </ion-header-bar>\n    <ion-content class="padding">\n        <form name="details" ng-show="detailsView">\n            <h5 class="title" style="color:#fff;text-align: center;">Details Of Business</h5>\n            <div class="list">\n                <label class="item item-input">\n                    <input type="text" ng-model="bussinessName" placeholder="Name of the business*" required>\n                </label>\n                <br>\n                <label class="item item-input">\n                    <input type="email" ng-model="userEmail" placeholder="Email*" required>\n                </label>\n                <br>\n                <div class="row">\n                    <div class="col col-90">\n                        <label class="item item-input" style="margin-left: -4%;">\n                            <input type="number" ng-model="phone" placeholder="Add phone number*">\n                        </label>\n                    </div>\n                    <div class="col" style="margin-top: 4%;">\n                        <i class="icon ion-plus-round" ng-click="addContact(phone);phone =\'\'" style="font-size: 1.5em;float: right;"></i>\n                    </div>\n                </div>\n                <div class="row" ng-repeat="contact in userContacts track by $index">\n                    <div class="col">\n                        <h5 class="title" style="color:#fff;text-align: left;">{{$index+1}}. {{contact}}</h5>\n                    </div>\n                    <div class="col" style="margin-top: 3%;">\n                        <i class="icon ion-android-close" ng-click="removeContact($index)" style="font-size: 1.5em;"></i>\n                    </div>\n                </div>\n            </div>\n            <div class="row">\n                <button class="button button-clear button-default center textButton" style="font-size: 1.5em; color: rgba(256,256,256,0.7);" ng-click="details.$valid && getDetails(bussinessName,userEmail,phone)">\n                    Next\n                </button>\n            </div>\n            <h6 class="title" ng-if="!details.$valid" style="color:orange;text-align: center;">*Please fill all required fields</h6>\n        </form>\n        <form name="manager" ng-show="managerView">\n            <h5 class="title" style="color:#fff;text-align: center;">Details Of Manager</h5>\n            </div>\n            <div class="list">\n                <label class="item item-input">\n                    <input type="text" ng-model="managerName" placeholder="Name*" required>\n                </label>\n                <br>\n                <label class="item item-input">\n                    <input type="text" ng-model="managerTitle" placeholder="Title*" required>\n                </label>\n                <br>\n                <label class="item item-input">\n                    <input type="number" ng-model="managerPhone" minlength="10" placeholder="Phone number*" required>\n                </label>\n                <br>\n                <label class="item item-input">\n                    <input type="email" ng-model="managerEmail" placeholder="Email*" required>\n                </label>\n            </div>\n            <div class="row">\n                <button class="button button-clear button-default center textButton" style="font-size: 1.5em; color: rgba(256,256,256,0.7);" ng-click="backDetails()">\n                    Back\n                </button>\n                <button class="button button-clear button-default center textButton" style="font-size: 1.5em; color: rgba(256,256,256,0.7);" ng-click="manager.$valid && getManager(managerName,managerTitle,managerPhone,managerEmail)">\n                    Next\n                </button>\n            </div>\n             <h6 class="title" ng-if="!manager.$valid" style="color:orange;text-align: center;">*Please fill all required fields</h6>\n        </form>\n        <form name="owner" ng-show="ownerView">\n            <h5 class="title" style="color:#fff;text-align: center;">Details Of Owner</h5>\n            <div class="list">\n                <label class="item item-input">\n                    <input type="text" ng-model="ownerName" placeholder="Name*" required>\n                </label>\n                <br>\n                <label class="item item-input">\n                    <input type="email" ng-model="ownerEmail" placeholder="Email*" required>\n                </label>\n                <br>\n                <label class="item item-input">\n                    <input type="number" ng-model="ownerPhone" minlength="10" placeholder="Phone number*" required>\n                </label>\n            </div>\n            <div class="row">\n                <div class="col col-20">\n                    <ion-checkbox style="background: none;border-width: 0px;" ng-model="isTermsChecked"></ion-checkbox>\n                </div>\n                <div class="col" style="margin-top: 1.5%;">\n                    <span style="font-size: 1.0em;color: #fff">I agree to the </span><a ng-click="getTerms()" style="color:#2535FF;font-size: 1.0em;text-decoration: underline;">Terms & Conditions</a>\n                </div>\n            </div>\n            <div class="row">\n                <button class="button button-clear button-default center textButton" style="font-size: 1.5em; color: rgba(256,256,256,0.7);" ng-click="backManager()">\n                    Back\n                </button>\n                <button class="button button-clear button-default center textButton" style="font-size: 1.5em; color: rgba(256,256,256,0.7);" ng-click="owner.$valid && isTermsChecked && getOwner(ownerName,ownerEmail,ownerPhone)">\n                    Register\n                </button>\n            </div>\n            <h6 class="title" ng-if="!owner.$valid" style="color:orange;text-align: center;">*Please fill all required fields</h6>\n        </form>\n    </ion-content>\n</ion-view>\n'),e.put("templates/views/settings.html",'<ion-view>\n    <ion-header-bar align-title="center" class="bar-positive">\n    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>\n        <h1 class="title">Settings</h1>\n    </ion-header-bar>\n\n    <ion-content>\n        <div class="list">\n\n            <!-- connect toggles to controller using ng-model -->\n\n            <ion-toggle>\n                <span class="settings-item__text">\n                    Allow Push Notifications\n                </span>\n            </ion-toggle>\n\n            <ion-toggle>\n                <span class="settings-item__text">\n                    Allow cookies\n                </span>\n            </ion-toggle>\n\n\n        </div>\n    </ion-content>\n\n</ion-view>\n')}]);